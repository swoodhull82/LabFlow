(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4973],{3561:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},7454:(e,t,a)=>{Promise.resolve().then(a.bind(a,30379))},17759:(e,t,a)=>{"use strict";a.d(t,{C5:()=>j,MJ:()=>f,eI:()=>x,lR:()=>h,lV:()=>d,zB:()=>m});var s=a(95155),r=a(12115),l=a(99708),n=a(62177),o=a(59434),i=a(85057);let d=n.Op,c=r.createContext({}),m=e=>{let{...t}=e;return(0,s.jsx)(c.Provider,{value:{name:t.name},children:(0,s.jsx)(n.xI,{...t})})},u=()=>{let e=r.useContext(c),t=r.useContext(p),{getFieldState:a,formState:s}=(0,n.xW)(),l=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...l}},p=r.createContext({}),x=r.forwardRef((e,t)=>{let{className:a,...l}=e,n=r.useId();return(0,s.jsx)(p.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",a),...l})})});x.displayName="FormItem";let h=r.forwardRef((e,t)=>{let{className:a,...r}=e,{error:l,formItemId:n}=u();return(0,s.jsx)(i.J,{ref:t,className:(0,o.cn)(l&&"text-destructive",a),htmlFor:n,...r})});h.displayName="FormLabel";let f=r.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:n,formDescriptionId:o,formMessageId:i}=u();return(0,s.jsx)(l.DX,{ref:t,id:n,"aria-describedby":r?"".concat(o," ").concat(i):"".concat(o),"aria-invalid":!!r,...a})});f.displayName="FormControl",r.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:l}=u();return(0,s.jsx)("p",{ref:t,id:l,className:(0,o.cn)("text-sm text-muted-foreground",a),...r})}).displayName="FormDescription";let j=r.forwardRef((e,t)=>{var a;let{className:r,children:l,...n}=e,{error:i,formMessageId:d}=u(),c=i?String(null!=(a=null==i?void 0:i.message)?a:""):l;return c?(0,s.jsx)("p",{ref:t,id:d,className:(0,o.cn)("text-sm font-medium text-destructive",r),...n,children:c}):null});j.displayName="FormMessage"},18763:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},25318:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},30379:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var s=a(95155),r=a(30285),l=a(66695),n=a(85127),o=a(44838),i=a(54165),d=a(62523),c=a(59409),m=a(17759),u=a(50172),p=a(34301),x=a(31949),h=a(3561),f=a(18763),j=a(77223),y=a(59119),v=a(6874),g=a.n(v),N=a(59576),b=a(12115),w=a(35695),A=a(97841),C=a(87481),k=a(62177),_=a(90221),E=a(55594);let R=E.Ik({name:E.Yj().min(2,{message:"Name must be at least 2 characters."}),email:E.Yj().email({message:"Please enter a valid email address."}),role:E.Yj().min(1,{message:"Role is required."}),department_text:E.Yj().optional(),reportsTo_text:E.Yj().optional()}),T="__NONE__",M=["Supervisor","Team Lead","Chem I","Chem II"],S=["Trace Metals","Automated","Air & Grav","Organics","BacT","Radiation","MAU","SpecOp"],I=e=>{let t="An unexpected error occurred while managing employees.";if(e&&"object"==typeof e){if("status"in e&&0===e.status?t="Failed to load employees: Could not connect to the server. Please check your internet connection and try again.":e.data&&"object"==typeof e.data&&e.data.message&&"string"==typeof e.data.message?t=e.data.message:e.message&&"string"==typeof e.message&&!e.message.startsWith("PocketBase_ClientResponseError")?t=e.message:e.originalError&&"string"==typeof e.originalError.message?t=e.originalError.message:e.message&&"string"==typeof e.message&&(t=e.message),"status"in e&&0!==e.status){let a=e.status;404===a?t="The employees collection was not found (404). Original: ".concat(t):403===a&&(t="You do not have permission to manage employees (403). Original: ".concat(t))}}else"string"==typeof e&&(t=e);return t};function F(){let{pbClient:e,user:t}=(0,N.A)(),a=(0,w.useRouter)(),{toast:v}=(0,C.dj)(),[E,F]=(0,b.useState)([]),[z,B]=(0,b.useState)(!0),[L,O]=(0,b.useState)(null),[H,P]=(0,b.useState)(!1),[V,q]=(0,b.useState)(null),[D,J]=(0,b.useState)(!1),Y=(null==t?void 0:t.role)==="Supervisor",Z=(0,k.mN)({resolver:(0,_.u)(R),defaultValues:{name:"",email:"",role:"",department_text:"",reportsTo_text:""}}),$=(0,b.useCallback)(async(e,t)=>{B(!0),O(null);try{let a=await (0,A.Oc)(e,{signal:t});F(a)}catch(a){let e=(null==a?void 0:a.isAbort)===!0||"string"==typeof(null==a?void 0:a.message)&&a.message.toLowerCase().includes("autocancelled"),t=(null==a?void 0:a.status)===0&&!e;if(e)console.warn("Employees fetch request was ".concat((null==a?void 0:a.isAbort)?"aborted":"autocancelled","."),a);else if(t){let e=I(a);O(e),v({title:"Error Loading Employees",description:e,variant:"destructive"}),console.warn("Employees fetch (network error):",e,a)}else{let e=I(a);O(e),v({title:"Error Loading Employees",description:e,variant:"destructive"}),console.warn("Error fetching employees (after retries):",e,a)}}finally{B(!1)}},[v]);(0,b.useEffect)(()=>{if(!e||!t)return void B(!0);if(!Y){v({title:"Access Denied",description:"This page is for Supervisors only.",variant:"destructive"}),a.push("/dashboard");return}let s=new AbortController;return $(e,s.signal),()=>{s.abort()}},[t,e,a,v,$,Y]);let G=(0,b.useMemo)(()=>V?E.filter(e=>("Supervisor"===e.role||"Team Lead"===e.role)&&e.id!==V.id):[],[E,V]);(0,b.useEffect)(()=>{V&&Z.reset({name:V.name,email:V.email,role:V.role,department_text:V.department_text||"",reportsTo_text:V.reportsTo_text||""})},[V,Z]);let U=(0,b.useCallback)(async t=>{if(!e)return void v({title:"Error",description:"Client not available.",variant:"destructive"});let a=[...E];F(e=>e.filter(e=>e.id!==t));try{await (0,A.Qu)(e,t),v({title:"Success",description:"Employee removed successfully."})}catch(e){console.error("Failed to delete employee:",e),F(a),v({title:"Error",description:I(e),variant:"destructive"})}},[e,v,E]),Q=(0,b.useCallback)(e=>{q(e),P(!0)},[]),W=()=>{P(!1),q(null),Z.reset()},X=async t=>{if(!V||!e)return void v({title:"Error",description:"Editing context or client not available.",variant:"destructive"});J(!0);let a=t.reportsTo_text!==T&&t.reportsTo_text?t.reportsTo_text:void 0,s=t.department_text!==T&&t.department_text?t.department_text:void 0,r={name:t.name,email:t.email,role:t.role,department_text:s,reportsTo_text:a};try{let t=await (0,A.Y$)(e,V.id,r);F(e=>e.map(e=>e.id===V.id?t:e)),v({title:"Success",description:"Employee details updated successfully."}),W()}catch(e){console.error("Failed to update employee:",e),v({title:"Error",description:I(e),variant:"destructive"})}finally{J(!1)}};return!t&&z?(0,s.jsxs)("div",{className:"flex items-center justify-center h-full p-4",children:[(0,s.jsx)(u.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("p",{className:"ml-2",children:"Loading user information..."})]}):!t||Y||z?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-headline font-semibold",children:"Employee Management"}),Y&&(0,s.jsx)(g(),{href:"/employees/new",passHref:!0,children:(0,s.jsxs)(r.$,{children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Add Employee"]})})]}),(0,s.jsxs)(l.Zp,{className:"shadow-md",children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{className:"font-headline",children:"All Employees"}),(0,s.jsx)(l.BT,{children:"Manage employee information and access."})]}),(0,s.jsxs)(l.Wu,{children:[z&&(0,s.jsxs)("div",{className:"flex justify-center items-center py-10",children:[(0,s.jsx)(u.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("p",{className:"ml-2",children:"Loading employees..."})]}),L&&!z&&(0,s.jsxs)("div",{className:"text-center py-10 text-destructive",children:[(0,s.jsx)(x.A,{className:"mx-auto h-12 w-12 text-destructive"}),(0,s.jsx)("p",{className:"mt-4 text-lg font-semibold",children:"Failed to Load Employees"}),(0,s.jsx)("p",{className:"text-sm",children:L}),(0,s.jsx)(r.$,{onClick:()=>{e&&Y&&$(e)},className:"mt-6",children:"Try Again"})]}),!z&&!L&&0===E.length&&(0,s.jsx)("div",{className:"text-center py-10 text-muted-foreground",children:(0,s.jsx)("p",{children:"No employees found. Get started by adding a new employee."})}),!z&&!L&&E.length>0&&(0,s.jsxs)(n.XI,{children:[(0,s.jsx)(n.A0,{children:(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nd,{children:"Name"}),(0,s.jsx)(n.nd,{children:"Email"}),(0,s.jsx)(n.nd,{children:"Role"}),(0,s.jsx)(n.nd,{children:"Department"}),(0,s.jsx)(n.nd,{children:"Reports To"}),Y&&(0,s.jsx)(n.nd,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(n.BF,{children:E.map(e=>(0,s.jsxs)(n.Hj,{className:"hover:bg-muted/50 transition-colors",children:[(0,s.jsx)(n.nA,{children:(0,s.jsx)("span",{className:"font-medium",children:e.name})}),(0,s.jsx)(n.nA,{children:e.email}),(0,s.jsx)(n.nA,{children:e.role}),(0,s.jsx)(n.nA,{children:e.department_text||"-"}),(0,s.jsx)(n.nA,{children:e.reportsTo_text||"-"}),Y&&(0,s.jsx)(n.nA,{className:"text-right",children:(0,s.jsxs)(o.rI,{children:[(0,s.jsx)(o.ty,{asChild:!0,children:(0,s.jsx)(r.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(h.A,{className:"h-4 w-4"})})}),(0,s.jsxs)(o.SQ,{align:"end",children:[(0,s.jsxs)(o._2,{onClick:()=>Q(e),className:"flex items-center w-full",children:[(0,s.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Edit"]}),(0,s.jsxs)(o._2,{className:"text-destructive focus:text-destructive focus:bg-destructive/10",onClick:()=>U(e.id),children:[(0,s.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},e.id))})]})]})]}),V&&Y&&(0,s.jsx)(i.lG,{open:H,onOpenChange:e=>{e?P(!0):W()},children:(0,s.jsxs)(i.Cf,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(i.c7,{children:[(0,s.jsxs)(i.L3,{className:"font-headline",children:["Edit Employee: ",V.name]}),(0,s.jsx)(i.rr,{children:"Make changes to the employee's details below."})]}),(0,s.jsx)(m.lV,{...Z,children:(0,s.jsxs)("form",{onSubmit:Z.handleSubmit(X),className:"space-y-4 py-4",children:[(0,s.jsx)(m.zB,{control:Z.control,name:"name",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Full Name"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(d.p,{...t})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:Z.control,name:"email",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Email Address"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(d.p,{type:"email",...t})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:Z.control,name:"role",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Role / Job Title"}),(0,s.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value||"",children:[(0,s.jsx)(m.MJ,{children:(0,s.jsx)(c.bq,{children:(0,s.jsx)(c.yv,{placeholder:"Select a role"})})}),(0,s.jsx)(c.gC,{children:M.map(e=>(0,s.jsx)(c.eb,{value:e,children:e},e))})]}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:Z.control,name:"department_text",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Department (Optional)"}),(0,s.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value||"",children:[(0,s.jsx)(m.MJ,{children:(0,s.jsx)(c.bq,{children:(0,s.jsx)(c.yv,{placeholder:"Select a department (Optional)"})})}),(0,s.jsxs)(c.gC,{children:[(0,s.jsx)(c.eb,{value:T,children:"None"}),S.map(e=>(0,s.jsx)(c.eb,{value:e,children:e},e))]})]}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:Z.control,name:"reportsTo_text",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Reports To (Supervisor or Team Lead - Optional)"}),(0,s.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value||"",children:[(0,s.jsx)(m.MJ,{children:(0,s.jsx)(c.bq,{children:(0,s.jsx)(c.yv,{placeholder:"Select a manager"})})}),(0,s.jsxs)(c.gC,{children:[(0,s.jsx)(c.eb,{value:T,children:"None"}),G.map(e=>(0,s.jsxs)(c.eb,{value:e.name,children:[e.name," (",e.role,")"]},e.id))]})]}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsxs)(i.Es,{children:[(0,s.jsx)(i.HM,{asChild:!0,children:(0,s.jsx)(r.$,{type:"button",variant:"outline",onClick:W,disabled:D,children:"Cancel"})}),(0,s.jsxs)(r.$,{type:"submit",disabled:D,children:[D?(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})})]})})]}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full p-4",children:(0,s.jsxs)(l.Zp,{className:"w-full max-w-md shadow-lg",children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{className:"text-center",children:"Access Denied"})}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)("p",{className:"text-center text-muted-foreground",children:"This page is for Supervisors only."}),(0,s.jsx)(r.$,{onClick:()=>a.push("/dashboard"),className:"w-full mt-6",children:"Go to Dashboard"})]})]})})}},31949:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},34301:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},44838:(e,t,a)=>{"use strict";a.d(t,{Hr:()=>u,Ht:()=>h,SQ:()=>p,_2:()=>x,lp:()=>f,mB:()=>j,rI:()=>c,ty:()=>m});var s=a(95155),r=a(12115),l=a(48698),n=a(73158),o=a(10518),i=a(70154),d=a(59434);let c=l.bL,m=l.l9;l.YJ,l.ZL,l.Pb;let u=l.z6;r.forwardRef((e,t)=>{let{className:a,inset:r,children:o,...i}=e;return(0,s.jsxs)(l.ZP,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...i,children:[o,(0,s.jsx)(n.A,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=l.G5.displayName;let p=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});p.displayName=l.UC.displayName;let x=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(l.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...n})});x.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...i}=e;return(0,s.jsxs)(l.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName;let h=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(l.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(i.A,{className:"h-2 w-2 fill-current"})})}),r]})});h.displayName=l.hN.displayName;let f=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(l.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})});f.displayName=l.JU.displayName;let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});j.displayName=l.wv.displayName},59119:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},73158:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},77223:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},85127:(e,t,a)=>{"use strict";a.d(t,{A0:()=>o,BF:()=>i,Hj:()=>d,XI:()=>n,nA:()=>m,nd:()=>c});var s=a(95155),r=a(12115),l=a(59434);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...r})})});n.displayName="Table";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...r})});o.displayName="TableHeader";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...r})});i.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});d.displayName="TableRow";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});c.displayName="TableHead";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});m.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},97841:(e,t,a)=>{"use strict";a.d(t,{Oc:()=>i,Qu:()=>m,Y$:()=>c,bV:()=>d});var s=a(7140),r=a(30645);let l="employees",n=(e,t)=>{if(e instanceof s.fp){var a;if(404===e.status)throw Error("Cannot create item: The '".concat(t,"' collection does not exist. Please create it in your PocketBase admin panel."));if(400===e.status&&(null==(a=e.data)?void 0:a.data)){if(e.data.data.id&&e.data.data.id.message)throw Error("There seems to be a configuration issue with your '".concat(t,"' collection. The server is asking for an 'id', which should be automatically generated. Please check in your PocketBase admin panel that the 'id' field is the default system field and not a required text field you created."));let a=Object.entries(e.data.data).map(e=>{let[t,a]=e;return"".concat(t,": ").concat(a.message)}).join("; ");throw Error("Validation failed. Server says: ".concat(a))}}throw console.error("Failed to create item in ".concat(t,":"),e),e},o=e=>({id:e.id,name:e.name,email:e.email,role:e.role,reportsTo_text:e.reportsTo_text,department_text:e.department_text,userId:e.userId,color:e.color,created:e.created?new Date(e.created):void 0,updated:e.updated?new Date(e.updated):void 0,collectionId:e.collectionId,collectionName:e.collectionName,expand:e.expand}),i=async(e,t)=>{try{let{onRetry:a,signal:s,...n}=t||{},i={sort:"name",fields:"id,name,email,role,department_text,reportsTo_text,userId,color,created,updated",...n};return(await (0,r.b)(()=>e.collection(l).getFullList(i,{signal:s}),{signal:s,context:"fetching employees list",onRetry:a})).map(o)}catch(e){if((null==e?void 0:e.isAbort)===!0||(null==e?void 0:e.message)&&(e.message.toLowerCase().includes("aborted")||e.message.toLowerCase().includes("autocancelled")))throw e;throw console.error("Failed to fetch employees:",e),e}},d=async(e,t,a)=>{try{let s=await e.collection(l).create(t,{signal:null==a?void 0:a.signal});return o(s)}catch(e){throw n(e,l),e}},c=async(e,t,a,s)=>{try{let{signal:n}=s||{},i=await (0,r.b)(()=>e.collection(l).update(t,a,{signal:n}),{context:"updating employee ".concat(t),signal:n});return o(i)}catch(e){throw console.error("Failed to update employee ".concat(t,":"),e),e}},m=async(e,t,a)=>{try{let{signal:s}=a||{};await (0,r.b)(()=>e.collection(l).delete(t,{signal:s}),{context:"deleting employee ".concat(t),signal:s})}catch(e){throw console.error("Failed to delete employee ".concat(t,":"),e),e}}}},e=>{var t=t=>e(e.s=t);e.O(0,[2383,4897,9052,3198,6874,1859,5452,36,9467,5229,8441,1684,7358],()=>t(7454)),_N_E=e.O()}]);