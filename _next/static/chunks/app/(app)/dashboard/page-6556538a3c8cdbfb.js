(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[536],{30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>i,r:()=>c});var r=a(95155),s=a(12115),l=a(99708),o=a(74466),n=a(59434);let c=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:i=!1,...d}=e,u=i?l.DX:"button";return(0,r.jsx)(u,{className:(0,n.cn)(c({variant:s,size:o,className:a})),ref:t,...d})});i.displayName="Button"},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(52596),s=a(39688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},59576:(e,t,a)=>{"use strict";a.d(t,{A:()=>m,AuthProvider:()=>u});var r=a(95155),s=a(35695),l=a(12115),o=a(7140),n=a(87481);let c=new o.Ay("https://swoodhu.pockethost.io/"),i=(0,l.createContext)(void 0),d=["Supervisor","Team Lead","Chem I","Chem II"],u=e=>{let{children:t}=e,[a,o]=(0,l.useState)(null),[u,m]=(0,l.useState)(!0),h=(0,s.useRouter)(),{toast:p}=(0,n.dj)();(0,l.useEffect)(()=>{m(!0),(async()=>{if(c.authStore.isValid&&c.authStore.model){var e;let t=c.authStore.model,a=t.role;if("Analyst"===a&&(a="Chem I"),!a||!d.includes(a)){let e=localStorage.getItem("labflowUserRole"),t="Chem I";e&&("Analyst"===e?t="Chem I":d.includes(e)&&(t=e)),a=t}o({id:t.id,email:t.email||"",name:t.name||(null==(e=t.email)?void 0:e.split("@")[0])||"User",role:a,avatarUrl:t.avatar?c.files.getUrl(t,t.avatar,{thumb:"100x100"}):"https://placehold.co/100x100.png?text=".concat((t.name||t.email||"U")[0].toUpperCase())}),localStorage.setItem("labflowUserRole",a)}})().finally(()=>m(!1))},[]);let f=async(e,t)=>{m(!0);try{if(await c.collection("users").authWithPassword(e,t),c.authStore.model){var a;let e=c.authStore.model,t=e.role;"Analyst"===t&&(t="Chem I"),t&&d.includes(t)||(console.warn("User ".concat(e.email," has an invalid or missing role ('").concat(e.role,"') in PocketBase. Defaulting to 'Chem I'.")),t="Chem I");let r={id:e.id,email:e.email||"",name:e.name||(null==(a=e.email)?void 0:a.split("@")[0])||"User",role:t,avatarUrl:e.avatar?c.files.getUrl(e,e.avatar,{thumb:"100x100"}):"https://placehold.co/100x100.png?text=".concat((e.name||e.email||"U")[0].toUpperCase())};o(r),localStorage.setItem("labflowUserRole",r.role),p({title:"Login Successful",description:"Welcome back, ".concat(r.name,"!")}),h.push("/dashboard")}else throw Error("Authentication successful but no user model found.")}catch(t){console.error("Login failed:",t);let e="Login failed. Please check your credentials.";if(t.data&&t.data.data){let a=Object.values(t.data.data).map(e=>e.message).join(", ");a&&(e=a)}else t.message&&(e=t.message);p({title:"Login Failed",description:e,variant:"destructive"}),o(null)}finally{m(!1)}};return(0,r.jsx)(i.Provider,{value:{user:a,login:f,logout:()=>{c.authStore.clear(),o(null),localStorage.removeItem("labflowUserRole"),h.push("/"),p({title:"Logged Out",description:"You have been successfully logged out."})},loading:u,pbClient:c},children:t})},m=()=>{let e=(0,l.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>i,Wu:()=>d,ZB:()=>c,Zp:()=>o,aR:()=>n});var r=a(95155),s=a(12115),l=a(59434);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});o.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});n.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});c.displayName="CardTitle";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});i.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},74848:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Y});var r=a(95155),s=a(12115),l=a(66695),o=a(89829),n=a(31949),c=a(763),i=a(58127),d=a(50172),u=a(25299),m=a(50286),h=a(80659),p=a(3401),f=a(94754),x=a(96025),g=a(16238),v=a(94517),y=a(24026),b=a(58227),j=a(93504),w=a(21374),k=a(83540),N=a(59434);let T={light:"",dark:".dark"},D=s.createContext(null);function C(){let e=s.useContext(D);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let S=s.forwardRef((e,t)=>{let{id:a,className:l,children:o,config:n,...c}=e,i=s.useId(),d="chart-".concat(a||i.replace(/:/g,""));return(0,r.jsx)(D.Provider,{value:{config:n},children:(0,r.jsxs)("div",{"data-chart":d,ref:t,className:(0,N.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",l),...c,children:[(0,r.jsx)(_,{id:d,config:n}),(0,r.jsx)(k.u,{children:o})]})})});S.displayName="Chart";let _=e=>{let{id:t,config:a}=e,s=Object.entries(a).filter(e=>{let[,t]=e;return t.theme||t.color});return s.length?(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(T).map(e=>{let[a,r]=e;return"\n".concat(r," [data-chart=").concat(t,"] {\n").concat(s.map(e=>{var t;let[r,s]=e,l=(null==(t=s.theme)?void 0:t[a])||s.color;return l?"  --color-".concat(r,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null};v.m;let A=s.forwardRef((e,t)=>{let{active:a,payload:l,className:o,indicator:n="dot",hideLabel:c=!1,hideIndicator:i=!1,label:d,labelFormatter:u,labelClassName:m,formatter:h,color:p,nameKey:f,labelKey:x}=e,{config:g}=C(),v=s.useMemo(()=>{var e;if(c||!(null==l?void 0:l.length))return null;let[t]=l,a="".concat(x||t.dataKey||t.name||"value"),s=I(g,t,a),o=x||"string"!=typeof d?null==s?void 0:s.label:(null==(e=g[d])?void 0:e.label)||d;return u?(0,r.jsx)("div",{className:(0,N.cn)("font-medium",m),children:u(o,l)}):o?(0,r.jsx)("div",{className:(0,N.cn)("font-medium",m),children:o}):null},[d,u,l,c,m,g,x]);if(!a||!(null==l?void 0:l.length))return null;let y=1===l.length&&"dot"!==n;return(0,r.jsxs)("div",{ref:t,className:(0,N.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",o),children:[y?null:v,(0,r.jsx)("div",{className:"grid gap-1.5",children:l.map((e,t)=>{let a="".concat(f||e.name||e.dataKey||"value"),s=I(g,e,a),l=p||e.payload.fill||e.color;return(0,r.jsx)("div",{className:(0,N.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===n&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,t,e.payload):(0,r.jsxs)(r.Fragment,{children:[(null==s?void 0:s.icon)?(0,r.jsx)(s.icon,{}):!i&&(0,r.jsx)("div",{className:(0,N.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===n,"w-1":"line"===n,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===n,"my-0.5":y&&"dashed"===n}),style:{"--color-bg":l,"--color-border":l}}),(0,r.jsxs)("div",{className:(0,N.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,r.jsxs)("div",{className:"grid gap-1.5",children:[y?v:null,(0,r.jsx)("span",{className:"text-muted-foreground",children:(null==s?void 0:s.label)||e.name})]}),e.value&&(0,r.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function I(e,t,a){if("object"!=typeof t||null===t)return;let r="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,s=a;return a in t&&"string"==typeof t[a]?s=t[a]:r&&a in r&&"string"==typeof r[a]&&(s=r[a]),s in e?e[s]:e[a]}A.displayName="ChartTooltip",y.s,s.forwardRef((e,t)=>{let{className:a,hideIcon:s=!1,payload:l,verticalAlign:o="bottom",nameKey:n}=e,{config:c}=C();return(null==l?void 0:l.length)?(0,r.jsx)("div",{ref:t,className:(0,N.cn)("flex items-center justify-center gap-4","top"===o?"pb-3":"pt-3",a),children:l.map(e=>{let t="".concat(n||e.dataKey||"value"),a=I(c,e,t);return(0,r.jsxs)("div",{className:(0,N.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==a?void 0:a.icon)&&!s?(0,r.jsx)(a.icon,{}):(0,r.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==a?void 0:a.label]},e.value)})}):null}).displayName="ChartLegend";var O=a(30285),E=a(59576),R=a(77694),F=a(97841),L=a(87481),P=a(80644),U=a(70831),B=a(3567),M=a(67690);let K=[{title:"Active Tasks",value:"0",icon:o.A,description:"Tasks currently in progress or to do.",color:"text-blue-500",bgColor:"bg-blue-50"},{title:"Overdue Tasks",value:"0",icon:n.A,description:"Tasks past their due date.",color:"text-red-500",bgColor:"bg-red-50"},{title:"Upcoming Tasks",value:"0",icon:c.A,description:"Tasks due in the next 7 days.",color:"text-yellow-500",bgColor:"bg-yellow-50"},{title:"Completed Today",value:"0",icon:i.A,description:"Tasks marked as done today.",color:"text-green-500",bgColor:"bg-green-50"}],W={count:{label:"Tasks"},"To Do":{label:"To Do",color:"hsl(var(--chart-1))"},"In Progress":{label:"In Progress",color:"hsl(var(--chart-2))"},Blocked:{label:"Blocked",color:"hsl(var(--chart-3))"},Done:{label:"Done",color:"hsl(var(--chart-4))"},Overdue:{label:"Overdue",color:"hsl(var(--chart-5))"}},Z={activeTasks:{label:"Active Tasks",color:"hsl(var(--chart-2))"}},V=[{month:"Jan '24",total:50,completed:35,rate:70},{month:"Feb '24",total:45,completed:30,rate:66.67},{month:"Mar '24",total:60,completed:50,rate:83.33},{month:"Apr '24",total:55,completed:40,rate:72.73},{month:"May '24",total:65,completed:58,rate:89.23},{month:"Jun '24",total:70,completed:60,rate:85.71}].map(e=>({...e,rate:parseFloat(e.rate.toFixed(1))})),z={rate:{label:"Completion Rate (%)",color:"hsl(var(--chart-2))"},completed:{label:"Completed"},total:{label:"Total Due"}},$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dashboard data",a="An unexpected error occurred while fetching ".concat(t,".");if(e&&"object"==typeof e){if(e.data&&"object"==typeof e.data&&e.data.message&&"string"==typeof e.data.message?a=e.data.message:e.message&&"string"==typeof e.message&&!e.message.startsWith("PocketBase_ClientResponseError")?a=e.message:e.originalError&&"string"==typeof e.originalError.message?a=e.originalError.message:e.message&&"string"==typeof e.message&&(a=e.message),"status"in e){let r=e.status,s=t.includes("tasks")?"tasks":t.includes("employees")?"employees":"data";404===r?a="The '".concat(s,"' collection was not found (404). ").concat(a):403===r&&(a="You do not have permission to view ".concat(s," (403). ").concat(a))}}else"string"==typeof e&&(a=e);return a};function Y(){let{pbClient:e}=(0,E.A)(),{toast:t}=(0,L.dj)(),[a,o]=(0,s.useState)(K),[c,i]=(0,s.useState)([]),[k,N]=(0,s.useState)([]),[T,D]=(0,s.useState)(!0),[C,_]=(0,s.useState)(null),I={"To Do":"hsl(var(--chart-1))","In Progress":"hsl(var(--chart-2))",Blocked:"hsl(var(--chart-3))",Done:"hsl(var(--chart-4))",Overdue:"hsl(var(--chart-5))"},Y=(0,s.useCallback)((e,t)=>{let a=(0,P.o)(new Date),r=(0,U.f)(a,7),s=0,l=0,n=0,c=0,d={"To Do":0,"In Progress":0,Blocked:0,Done:0,Overdue:0},u={};e.forEach(e=>{let t=e.dueDate?(0,P.o)(new Date(e.dueDate)):null,o="Done"===e.status,i=t&&(0,B.R)(t)&&!(0,M.c)(t)&&!o,m="Overdue"===e.status||i;if("Overdue"===e.status||i?d.Overdue++:e.status&&d.hasOwnProperty(e.status)&&d[e.status]++,o||m||!e.assignedTo_text||(u[e.assignedTo_text]=(u[e.assignedTo_text]||0)+1),o){let t=new Date(e.updated?e.updated:e.created);(0,M.c)(t)&&c++}else m&&l++,!m&&("In Progress"===e.status||"To Do"===e.status||"Blocked"===e.status)&&s++,!m&&t&&t>=a&&t<r&&n++}),o([{...K[0],value:s.toString()},{...K[1],value:l.toString()},{...K[2],value:n.toString()},{...K[3],value:c.toString()}]),i(Object.keys(d).map(e=>({status:e,count:d[e]||0,fill:I[e]||"hsl(var(--muted))"})).filter(e=>e.count>0)),N(Object.entries(u).map(e=>{let[t,a]=e;return{employee:t,activeTasks:a}}).sort((e,t)=>t.activeTasks-e.activeTasks))},[I]),q=(0,s.useCallback)(async e=>{D(!0),_(null);try{let[t,a]=await Promise.all([(0,R.x1)(e),(0,F.Oc)(e)]);Y(t,a)}catch(e){if((null==e?void 0:e.isAbort)===!0||(null==e?void 0:e.status)===0||"string"==typeof(null==e?void 0:e.message)&&e.message.toLowerCase().includes("autocancelled"))console.warn("Dashboard data fetch request was autocancelled or due to a network issue.",e);else{var a;console.error("Error fetching dashboard data:",e);let r=(null==(a=e.message)?void 0:a.toLowerCase().includes("employee"))?"employees":"tasks",s=$(e,r);_(s),t({title:"Error Loading Dashboard Data",description:s,variant:"destructive"})}}finally{D(!1)}},[t,Y]);return((0,s.useEffect)(()=>{e?q(e):D(!0)},[e,q]),T)?(0,r.jsxs)("div",{className:"flex items-center justify-center h-[calc(100vh-10rem)]",children:[(0,r.jsx)(d.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,r.jsx)("p",{className:"ml-4 text-lg text-muted-foreground",children:"Loading dashboard data..."})]}):C&&!T?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-10rem)] text-destructive",children:[(0,r.jsx)(n.A,{className:"h-16 w-16"}),(0,r.jsx)("p",{className:"mt-4 text-xl font-semibold",children:"Failed to Load Dashboard Data"}),(0,r.jsx)("p",{className:"text-md mt-1 text-center max-w-md",children:C}),(0,r.jsx)(O.$,{onClick:()=>{e&&q(e)},className:"mt-6",children:"Try Again"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-headline font-semibold",children:"Dashboard"}),(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:a.map(e=>(0,r.jsxs)(l.Zp,{className:"shadow-md hover:shadow-lg transition-shadow duration-300",children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:e.title}),(0,r.jsx)(e.icon,{className:"h-5 w-5 ".concat(e.color)})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.title))}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(l.Zp,{className:"shadow-md",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"font-headline flex items-center",children:[(0,r.jsx)(u.A,{className:"mr-2 h-5 w-5 text-primary"}),"Task Status Distribution"]}),(0,r.jsx)(l.BT,{children:"Overview of tasks by their current status."})]}),(0,r.jsx)(l.Wu,{children:c.length>0?(0,r.jsx)(S,{config:W,className:"h-[300px] w-full",children:(0,r.jsxs)(p.E,{data:c,layout:"vertical",margin:{left:10,right:30},children:[(0,r.jsx)(f.d,{horizontal:!1}),(0,r.jsx)(x.W,{type:"number",dataKey:"count",allowDecimals:!1}),(0,r.jsx)(g.h,{dataKey:"status",type:"category",tickLine:!1,axisLine:!1,width:80}),(0,r.jsx)(v.m,{cursor:{fill:"hsl(var(--muted))"},content:(0,r.jsx)(A,{hideLabel:!0})}),(0,r.jsx)(y.s,{}),(0,r.jsx)(b.y,{dataKey:"count",radius:4})]})}):(0,r.jsx)("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No task data available for distribution chart."})})]}),(0,r.jsxs)(l.Zp,{className:"shadow-md",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"font-headline flex items-center",children:[(0,r.jsx)(m.A,{className:"mr-2 h-5 w-5 text-primary"}),"Active Tasks by Employee"]}),(0,r.jsx)(l.BT,{children:"Breakdown of active tasks assigned per employee."})]}),(0,r.jsx)(l.Wu,{children:k.length>0?(0,r.jsx)(S,{config:Z,className:"h-[300px] w-full",children:(0,r.jsxs)(p.E,{data:k,margin:{top:5,right:20,left:0,bottom:5},children:[(0,r.jsx)(f.d,{strokeDasharray:"3 3",vertical:!1}),(0,r.jsx)(x.W,{dataKey:"employee",type:"category"}),(0,r.jsx)(g.h,{dataKey:"activeTasks",type:"number",allowDecimals:!1}),(0,r.jsx)(v.m,{cursor:{fill:"hsl(var(--muted))"},content:(0,r.jsx)(A,{})}),(0,r.jsx)(b.y,{dataKey:"activeTasks",fill:"var(--color-activeTasks)",radius:[4,4,0,0]})]})}):(0,r.jsx)("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No active tasks assigned to employees or employee data not loaded."})})]}),(0,r.jsxs)(l.Zp,{className:"shadow-md md:col-span-2",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"font-headline flex items-center",children:[(0,r.jsx)(h.A,{className:"mr-2 h-5 w-5 text-primary"}),"Monthly Task Completion Rate (Mock Data)"]}),(0,r.jsx)(l.BT,{children:"Trend of task completion based on due dates."})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)(S,{config:z,className:"h-[300px] w-full",children:(0,r.jsxs)(j.b,{data:V,margin:{top:5,right:20,left:0,bottom:5},children:[(0,r.jsx)(f.d,{strokeDasharray:"3 3",vertical:!1}),(0,r.jsx)(x.W,{dataKey:"month"}),(0,r.jsx)(g.h,{domain:[0,100],tickFormatter:e=>"".concat(e,"%")}),(0,r.jsx)(v.m,{content:e=>{let{active:t,payload:a,label:s}=e;if(t&&a&&a.length){let e=a[0].payload;return(0,r.jsxs)("div",{className:"p-2 rounded-md border bg-background shadow-lg",children:[(0,r.jsx)("p",{className:"font-medium text-sm",children:s}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Completed: ",e.completed," / ",e.total]}),(0,r.jsxs)("p",{className:"text-xs",style:{color:a[0].color},children:["Rate: ",e.rate,"%"]})]})}return null},cursor:{fill:"hsl(var(--muted))"}}),(0,r.jsx)(y.s,{}),(0,r.jsx)(w.N,{type:"monotone",dataKey:"rate",stroke:"hsl(var(--chart-2))",strokeWidth:2,dot:{r:4,fill:"hsl(var(--chart-2))"},activeDot:{r:6,fill:"hsl(var(--chart-2))"},name:"Completion Rate"})]})})})]})]})]})}},77694:(e,t,a)=>{"use strict";a.d(t,{UT:()=>o,lC:()=>n,vq:()=>c,x1:()=>l});let r="tasks",s=e=>({...e,startDate:e.startDate?new Date(e.startDate):void 0,dueDate:e.dueDate?new Date(e.dueDate):void 0,created:new Date(e.created),updated:new Date(e.updated)}),l=async e=>{try{return(await e.collection(r).getFullList({sort:"-created"})).map(s)}catch(e){throw console.error("Failed to fetch tasks:",e),e}},o=async(e,t)=>{try{let a=await e.collection(r).create(t);return s(a)}catch(e){throw console.error("Failed to create task:",e),e}},n=async(e,t,a)=>{try{let l=await e.collection(r).update(t,a);return s(l)}catch(e){throw console.error("Failed to update task ".concat(t,":"),e),e}},c=async(e,t)=>{try{await e.collection(r).delete(t)}catch(e){throw console.error("Failed to delete task ".concat(t,":"),e),e}}},86249:(e,t,a)=>{Promise.resolve().then(a.bind(a,74848))},87481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var r=a(12115);let s=0,l=new Map,o=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],i={toasts:[]};function d(e){i=n(i,e),c.forEach(e=>{e(i)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=r.useState(i);return r.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},97841:(e,t,a)=>{"use strict";a.d(t,{Oc:()=>l,Qu:()=>c,Y$:()=>n,bV:()=>o});let r="employees",s=e=>({id:e.id,name:e.name,email:e.email,role:e.role,reportsTo_text:e.reportsTo_text,department_text:e.department_text,userId:e.userId,created:e.created?new Date(e.created):void 0,updated:e.updated?new Date(e.updated):void 0,collectionId:e.collectionId,collectionName:e.collectionName,expand:e.expand}),l=async e=>{try{return(await e.collection(r).getFullList({sort:"name"})).map(s)}catch(e){throw console.error("Failed to fetch employees:",e),e}},o=async(e,t)=>{try{let a=await e.collection(r).create(t);return s(a)}catch(e){throw console.error("Failed to create employee:",e),e}},n=async(e,t,a)=>{try{let l=await e.collection(r).update(t,a);return s(l)}catch(e){throw console.error("Failed to update employee ".concat(t,":"),e),e}},c=async(e,t)=>{try{await e.collection(r).delete(t)}catch(e){throw console.error("Failed to delete employee ".concat(t,":"),e),e}}}},e=>{var t=t=>e(e.s=t);e.O(0,[143,415,441,303,358],()=>t(86249)),_N_E=e.O()}]);