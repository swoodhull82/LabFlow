"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[844],{14636:(e,t,a)=>{a.d(t,{AM:()=>i,Wv:()=>c,hl:()=>l});var r=a(95155),o=a(12115),s=a(20547),n=a(59434);let i=s.bL,c=s.l9,l=o.forwardRef((e,t)=>{let{className:a,align:o="center",sideOffset:i=4,...c}=e;return(0,r.jsx)(s.ZL,{children:(0,r.jsx)(s.UC,{ref:t,align:o,sideOffset:i,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c})})});l.displayName=s.UC.displayName},30645:(e,t,a)=>{a.d(t,{b:()=>n});let r={maxAttempts:4,delayMs:1e3,shouldRetry:e=>!!e&&"object"==typeof e&&!(!0===e.isAbort||"string"==typeof e.message&&e.message.toLowerCase().includes("aborted"))&&!0!==e.isCircuitOpenError&&!0!==e.circuitJustOpened&&(0===e.status||502===e.status||503===e.status||504===e.status),context:"operation"};var o=function(e){return e.Closed="CLOSED",e.Open="OPEN",e.HalfOpen="HALF_OPEN",e}(o||{});let s=new Map;async function n(e,t){let a,o={...r,...t},n=o.context,i=(e,t)=>{let a="[withRetry:".concat(n,"] ").concat(e,". Circuit: ").concat(c.state,".");console.warn(a);let r=Error(a);throw r.isAbort=!0,r.context=n,t&&(r.originalError=t),r};s.has(n)||s.set(n,{state:"CLOSED",failures:0});let c=s.get(n);if("OPEN"===c.state)if(Date.now()<(c.openUntil||0)){let e=Error("Circuit for '".concat(n,"' is open due to repeated failures. Please try again in a few moments."));throw e.isCircuitOpenError=!0,e.context=n,e.openUntil=c.openUntil,e}else c.state="HALF_OPEN",c.failures=0,c.openUntil=void 0,console.log("[withRetry:".concat(n,"] Circuit is now HalfOpen. Allowing one attempt."));let l="HALF_OPEN"===c.state?1:o.maxAttempts;for(let t=1;t<=l;t++){var d,u,p;(null==(d=o.signal)?void 0:d.aborted)&&i("Aborted before attempt ".concat(t));try{let t=await e();return("HALF_OPEN"===c.state||c.failures>0||"OPEN"===c.state)&&(console.log("[withRetry:".concat(n,"] Circuit is now Closed due to successful attempt (was ").concat(c.state,").")),c.state="CLOSED",c.failures=0,c.openUntil=void 0),t}catch(e){if(a=e,(null==(u=o.signal)?void 0:u.aborted)&&i("Aborted during/after attempt ".concat(t," (caught error: ").concat((null==e?void 0:e.message)||e,")"),e),e&&"object"==typeof e&&(!0===e.isAbort||"string"==typeof e.message&&e.message.toLowerCase().includes("aborted")))throw console.warn("[withRetry:".concat(n,"] Caught abort-like error on attempt ").concat(t,": ").concat(e.message,". Circuit: ").concat(c.state,".")),e.isAbort||(e.isAbort=!0),e.context||(e.context=n),e;if(o.shouldRetry(e))if(o.onRetry&&o.onRetry(t,l,e),t<l){let e="HALF_OPEN"===c.state?o.delayMs:o.delayMs*Math.pow(2,t-1);await new Promise(t=>setTimeout(t,e)),(null==(p=o.signal)?void 0:p.aborted)&&i("Aborted during retry delay after attempt ".concat(t))}else throw console.warn("[withRetry:".concat(n,"] All ").concat(l," attempts failed (Circuit: ").concat(c.state,"). Last error: ").concat(e.message||JSON.stringify(e))),"HALF_OPEN"===c.state?(console.warn("[withRetry:".concat(n,"] Circuit failed in HalfOpen state. Re-opening.")),c.state="OPEN",c.openUntil=Date.now()+3e4,a.circuitJustOpened=!0,a.context=n):"CLOSED"===c.state&&(c.failures++,console.log("[withRetry:".concat(n,"] Circuit failure count: ").concat(c.failures," (max: ").concat(1,")")),c.failures>=1&&(console.warn("[withRetry:".concat(n,"] Circuit reached max failures. Opening circuit.")),c.state="OPEN",c.openUntil=Date.now()+3e4,a.circuitJustOpened=!0,a.context=n)),a;else throw e}}if(a)throw a;throw Error("[withRetry:".concat(n,"] Unexpected exit: Max attempts ").concat(l," reached without success or explicit error handling."))}},47262:(e,t,a)=>{a.d(t,{S:()=>c});var r=a(95155),o=a(12115),s=a(76981),n=a(10518),i=a(59434);let c=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)(s.bL,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...o,children:(0,r.jsx)(s.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})})});c.displayName=s.bL.displayName},66695:(e,t,a)=>{a.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>i});var r=a(95155),o=a(12115),s=a(59434);let n=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...o})});n.displayName="Card";let i=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...o})});i.displayName="CardHeader";let c=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-xl md:text-2xl font-semibold leading-none tracking-tight",a),...o})});c.displayName="CardTitle";let l=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...o})});l.displayName="CardDescription";let d=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...o})});d.displayName="CardContent",o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...o})}).displayName="CardFooter"},77694:(e,t,a)=>{a.d(t,{UT:()=>i,lC:()=>c,vq:()=>l,x1:()=>n});var r=a(30645);a(97841);let o="tasks",s=e=>({id:e.id,title:e.title||"",task_type:e.task_type,description:e.description,status:e.status,priority:e.priority,startDate:e.startDate?new Date(e.startDate):void 0,dueDate:e.dueDate?new Date(e.dueDate):void 0,assignedTo_text:e.assignedTo_text,recurrence:e.recurrence||"None",attachments:e.attachments,userId:e.userId,created:new Date(e.created),updated:new Date(e.updated),collectionId:e.collectionId,collectionName:e.collectionName,expand:e.expand,progress:e.progress,isMilestone:"boolean"==typeof e.isMilestone&&e.isMilestone,dependencies:Array.isArray(e.dependencies)?e.dependencies:"string"==typeof e.dependencies&&e.dependencies.startsWith("[")?JSON.parse(e.dependencies):[],instrument_subtype:e.instrument_subtype||void 0,method:e.method||void 0}),n=async(e,t)=>{try{let{onRetry:a,signal:n,...i}=t||{},c={sort:"-created",fields:"id,title,task_type,status,priority,startDate,dueDate,assignedTo_text,userId,created,updated,progress,isMilestone,dependencies,instrument_subtype,method,recurrence",...i};return(await (0,r.b)(()=>e.collection(o).getFullList(c,{signal:n}),{signal:n,context:"fetching tasks list",onRetry:a})).map(s)}catch(e){throw e}},i=async(e,t,a)=>{try{t.has("isMilestone")&&t.set("isMilestone","true"===t.get("isMilestone")?"true":"false");let r=await e.collection(o).create(t,{signal:null==a?void 0:a.signal});return s(r)}catch(e){throw console.error("Failed to create task:",e),e}},c=async(e,t,a,n)=>{try{let{signal:i}=n||{};a instanceof FormData&&a.has("isMilestone")?a.set("isMilestone","true"===a.get("isMilestone")||!0===a.get("isMilestone")?"true":"false"):!(a instanceof FormData)&&a.hasOwnProperty("isMilestone")&&(a.isMilestone=!!a.isMilestone);let c=await (0,r.b)(()=>e.collection(o).update(t,a,{signal:i}),{context:"updating task ".concat(t),signal:i});return s(c)}catch(e){throw console.error("Failed to update task ".concat(t,":"),e),e}},l=async(e,t,a)=>{try{let{signal:s}=a||{};await (0,r.b)(()=>e.collection(o).delete(t,{signal:s}),{context:"deleting task ".concat(t),signal:s})}catch(e){throw console.error("Failed to delete task ".concat(t,":"),e),e}}},85057:(e,t,a)=>{a.d(t,{J:()=>l});var r=a(95155),o=a(12115),s=a(40968),n=a(74466),i=a(59434);let c=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)(s.b,{ref:t,className:(0,i.cn)(c(),a),...o})});l.displayName=s.b.displayName},85511:(e,t,a)=>{a.d(t,{V:()=>l});var r=a(95155);a(12115);var o=a(965),s=a(73158),n=a(86374),i=a(59434),c=a(30285);function l(e){let{className:t,classNames:a,showOutsideDays:l=!0,...d}=e;return(0,r.jsx)(n.hv,{showOutsideDays:l,className:(0,i.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,c.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,c.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,r.jsx)(o.A,{className:(0,i.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,r.jsx)(s.A,{className:(0,i.cn)("h-4 w-4",t),...a})}},...d})}l.displayName="Calendar"},97841:(e,t,a)=>{a.d(t,{Oc:()=>n,Qu:()=>l,Y$:()=>c,bV:()=>i});var r=a(30645);let o="employees",s=e=>({id:e.id,name:e.name,email:e.email,role:e.role,reportsTo_text:e.reportsTo_text,department_text:e.department_text,userId:e.userId,created:e.created?new Date(e.created):void 0,updated:e.updated?new Date(e.updated):void 0,collectionId:e.collectionId,collectionName:e.collectionName,expand:e.expand}),n=async(e,t)=>{try{let{onRetry:a,signal:n,...i}=t||{},c={sort:"name",fields:"id,name,email,role,department_text,reportsTo_text,userId,created,updated",...i};return(await (0,r.b)(()=>e.collection(o).getFullList(c,{signal:n}),{signal:n,context:"fetching employees list",onRetry:a})).map(s)}catch(e){throw e}},i=async(e,t,a)=>{try{let r=await e.collection(o).create(t,{signal:null==a?void 0:a.signal});return s(r)}catch(e){throw console.error("Failed to create employee:",e),e}},c=async(e,t,a,n)=>{try{let{signal:i}=n||{},c=await (0,r.b)(()=>e.collection(o).update(t,a,{signal:i}),{context:"updating employee ".concat(t),signal:i});return s(c)}catch(e){throw console.error("Failed to update employee ".concat(t,":"),e),e}},l=async(e,t,a)=>{try{let{signal:s}=a||{};await (0,r.b)(()=>e.collection(o).delete(t,{signal:s}),{context:"deleting employee ".concat(t),signal:s})}catch(e){throw console.error("Failed to delete employee ".concat(t,":"),e),e}}}}]);