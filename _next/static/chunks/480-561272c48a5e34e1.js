"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{14636:(e,t,a)=>{a.d(t,{AM:()=>i,Wv:()=>l,hl:()=>c});var s=a(95155),r=a(12115),o=a(20547),n=a(59434);let i=o.bL,l=o.l9,c=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:i=4,...l}=e;return(0,s.jsx)(o.ZL,{children:(0,s.jsx)(o.UC,{ref:t,align:r,sideOffset:i,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});c.displayName=o.UC.displayName},30645:(e,t,a)=>{a.d(t,{b:()=>n});let s={maxAttempts:4,delayMs:1e3,shouldRetry:e=>!!e&&"object"==typeof e&&!(!0===e.isAbort||"string"==typeof e.message&&e.message.toLowerCase().includes("aborted"))&&!0!==e.isCircuitOpenError&&!0!==e.circuitJustOpened&&(0===e.status||502===e.status||503===e.status||504===e.status),context:"operation"};var r=function(e){return e.Closed="CLOSED",e.Open="OPEN",e.HalfOpen="HALF_OPEN",e}(r||{});let o=new Map;async function n(e,t){let a,r={...s,...t},n=r.context,i=(e,t)=>{let a="[withRetry:".concat(n,"] ").concat(e,". Circuit: ").concat(l.state,".");console.warn(a);let s=Error(a);throw s.isAbort=!0,s.context=n,t&&(s.originalError=t),s};o.has(n)||o.set(n,{state:"CLOSED",failures:0});let l=o.get(n);if("OPEN"===l.state)if(Date.now()<(l.openUntil||0)){let e=Error("Circuit for '".concat(n,"' is open due to repeated failures. Please try again in a few moments."));throw e.isCircuitOpenError=!0,e.context=n,e.openUntil=l.openUntil,e}else l.state="HALF_OPEN",l.failures=0,l.openUntil=void 0,console.log("[withRetry:".concat(n,"] Circuit is now HalfOpen. Allowing one attempt."));let c="HALF_OPEN"===l.state?1:r.maxAttempts;for(let t=1;t<=c;t++){var d,u,p;(null==(d=r.signal)?void 0:d.aborted)&&i("Aborted before attempt ".concat(t));try{let t=await e();return("HALF_OPEN"===l.state||l.failures>0||"OPEN"===l.state)&&(console.log("[withRetry:".concat(n,"] Circuit is now Closed due to successful attempt (was ").concat(l.state,").")),l.state="CLOSED",l.failures=0,l.openUntil=void 0),t}catch(e){if(a=e,(null==(u=r.signal)?void 0:u.aborted)&&i("Aborted during/after attempt ".concat(t," (caught error: ").concat((null==e?void 0:e.message)||e,")"),e),e&&"object"==typeof e&&(!0===e.isAbort||"string"==typeof e.message&&e.message.toLowerCase().includes("aborted")))throw console.warn("[withRetry:".concat(n,"] Caught abort-like error on attempt ").concat(t,": ").concat(e.message,". Circuit: ").concat(l.state,".")),e.isAbort||(e.isAbort=!0),e.context||(e.context=n),e;if(r.shouldRetry(e))if(r.onRetry&&r.onRetry(t,c,e),t<c){let e="HALF_OPEN"===l.state?r.delayMs:r.delayMs*Math.pow(2,t-1);await new Promise(t=>setTimeout(t,e)),(null==(p=r.signal)?void 0:p.aborted)&&i("Aborted during retry delay after attempt ".concat(t))}else throw console.warn("[withRetry:".concat(n,"] All ").concat(c," attempts failed (Circuit: ").concat(l.state,"). Last error: ").concat(e.message||JSON.stringify(e))),"HALF_OPEN"===l.state?(console.warn("[withRetry:".concat(n,"] Circuit failed in HalfOpen state. Re-opening.")),l.state="OPEN",l.openUntil=Date.now()+3e4,a.circuitJustOpened=!0,a.context=n):"CLOSED"===l.state&&(l.failures++,console.log("[withRetry:".concat(n,"] Circuit failure count: ").concat(l.failures," (max: ").concat(1,")")),l.failures>=1&&(console.warn("[withRetry:".concat(n,"] Circuit reached max failures. Opening circuit.")),l.state="OPEN",l.openUntil=Date.now()+3e4,a.circuitJustOpened=!0,a.context=n)),a;else throw e}}if(a)throw a;throw Error("[withRetry:".concat(n,"] Unexpected exit: Max attempts ").concat(c," reached without success or explicit error handling."))}},59409:(e,t,a)=>{a.d(t,{bq:()=>p,eb:()=>w,gC:()=>h,l6:()=>d,yv:()=>u});var s=a(95155),r=a(12115),o=a(31992),n=a(79556),i=a(77381),l=a(10518),c=a(59434);let d=o.bL;o.YJ;let u=o.WT,p=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(o.l9,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[r,(0,s.jsx)(o.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=o.l9.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=o.PP.displayName;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});m.displayName=o.wn.displayName;let h=r.forwardRef((e,t)=>{let{className:a,children:r,position:n="popper",...i}=e;return(0,s.jsx)(o.ZL,{children:(0,s.jsxs)(o.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,s.jsx)(f,{}),(0,s.jsx)(o.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(m,{})]})})});h.displayName=o.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=o.JU.displayName;let w=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(o.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(o.VF,{children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})}),(0,s.jsx)(o.p4,{children:r})]})});w.displayName=o.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=o.wv.displayName},77694:(e,t,a)=>{a.d(t,{UT:()=>i,lC:()=>l,vq:()=>c,x1:()=>n});var s=a(30645);let r="tasks",o=e=>({...e,startDate:e.startDate?new Date(e.startDate):void 0,dueDate:e.dueDate?new Date(e.dueDate):void 0,created:new Date(e.created),updated:new Date(e.updated),dependencies:Array.isArray(e.dependencies)?e.dependencies:"string"==typeof e.dependencies&&e.dependencies.startsWith("[")?JSON.parse(e.dependencies):[],isMilestone:"boolean"==typeof e.isMilestone&&e.isMilestone,instrument_subtype:e.instrument_subtype||void 0}),n=async(e,t)=>{try{let{onRetry:a,signal:n,...i}=t||{},l={sort:"-created",fields:"id,title,status,priority,startDate,dueDate,assignedTo_text,userId,created,updated,progress,isMilestone,dependencies,instrument_subtype",...i};return(await (0,s.b)(()=>e.collection(r).getFullList(l,{signal:n}),{signal:n,context:"fetching tasks list",onRetry:a})).map(o)}catch(e){throw e}},i=async(e,t,a)=>{try{t.has("isMilestone")&&t.set("isMilestone","true"===t.get("isMilestone")?"true":"false");let s=await e.collection(r).create(t,{signal:null==a?void 0:a.signal});return o(s)}catch(e){throw console.error("Failed to create task:",e),e}},l=async(e,t,a,n)=>{try{let{signal:i}=n||{};a instanceof FormData&&a.has("isMilestone")?a.set("isMilestone","true"===a.get("isMilestone")||!0===a.get("isMilestone")?"true":"false"):!(a instanceof FormData)&&a.hasOwnProperty("isMilestone")&&(a.isMilestone=!!a.isMilestone);let l=await (0,s.b)(()=>e.collection(r).update(t,a,{signal:i}),{context:"updating task ".concat(t),signal:i});return o(l)}catch(e){throw console.error("Failed to update task ".concat(t,":"),e),e}},c=async(e,t,a)=>{try{let{signal:o}=a||{};await (0,s.b)(()=>e.collection(r).delete(t,{signal:o}),{context:"deleting task ".concat(t),signal:o})}catch(e){throw console.error("Failed to delete task ".concat(t,":"),e),e}}},85057:(e,t,a)=>{a.d(t,{J:()=>c});var s=a(95155),r=a(12115),o=a(40968),n=a(74466),i=a(59434);let l=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.b,{ref:t,className:(0,i.cn)(l(),a),...r})});c.displayName=o.b.displayName},91950:(e,t,a)=>{a.d(t,{C3:()=>n,Hi:()=>s,PN:()=>r,ho:()=>i,oe:()=>l,tk:()=>c,y4:()=>o});let s=["To Do","In Progress","Blocked","Done","Overdue"],r=["Low","Medium","High","Urgent"],o=["None","Daily","Weekly","Monthly","Yearly"],n="LabFlow",i=["MDL","SOP","IA","iDOC","oDOC"],l=["nexiON","agilent 7900","DMA-80 Mercury Analyzer"],c=(()=>{let e=[];for(let t=0;t<=16;t++)e.push("BOL50".concat(String(t).padStart(2,"0")));for(let t=18;t<=24;t++)e.push("BOL50".concat(String(t).padStart(2,"0")));for(let t=26;t<=28;t++)e.push("BOL50".concat(String(t).padStart(2,"0")));for(let t=0;t<=2;t++)e.push("BOL55".concat(String(t).padStart(2,"0")));return e})()}}]);